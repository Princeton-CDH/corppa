# Developer Notes

This repo uses [git-flow](https://github.com/nvie/gitflow) branching conventions; **main** contains the most recent release, and work in progress will be on the **develop** branch. Pull requests for new features should be made against develop.

## Developer setup and installation

- **Recommended:** create a python virtual environment with your tool of choice (virtualenv, conda, etc); use python 3.12 or higher

- Install the local checked out version of this package in editable mode (`-e`), including all python dependencies and optional dependencies for development and testing:

```sh
pip install -e ".[dev]"
```

- This repository uses [pre-commit](https://pre-commit.com/) for python code linting and consistent formatting. Run this command to initialize and install pre-commit hooks:

```sh
pre-commit install
```

- Copy `sample_config.yml` to `corppa_config.yml` and edit paths and configurations for your local environment.

## Documentation
Documentation is generated by using [sphinx](https://www.sphinx-doc.org/en/master/). To
generate the documentation, first install the development requirements.

```sh
pip install -e ".[dev]"
```

Then the documentation can be built using the customized makefile in the `docs` directory.
```sh
cd docs
make html
```

To check documentation coverage, run:
```sh
make html -b coverage
```

This will create a file under `_build/coverage/python.txt` listing any Python classes or methods
that are not documented. Note that sphinx can only report on code coverage for files that are
included in the documentation. If a new Python file is created but not included in the sphinx
documentation, it will be omitted.
